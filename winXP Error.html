<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>WIN XP errors</title>

  <style>
    html, body { width: 100%; height: 100%; margin: 0; padding: 0; }
    body { overflow: hidden; }
    #container {
      position: relative;
      width: 100%;
      height: 100%;
      background-image: url('https://media.gcflearnfree.org/ctassets/topics/40/xp_desktop.jpg');
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      cursor: pointer;
      background-color: black;
    }
    #images-container {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
    }
    .click-image {
      position: absolute;
      opacity: 0.25;
      animation: fadeIn 0.05s linear forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>

<body>

<div id="container">
  <div id="images-container"></div>
</div>

<script>
  var container = document.getElementById("container");
  var imagesContainer = document.getElementById("images-container");
  var isMouseDown = false;
  var MAX_ICONS = 370;
  var imagesList = [
    "https://static.wikia.nocookie.net/the-microsoft-windows-xp/images/9/95/Sample_Error_Message.png/revision/latest?cb=20210716033211",
    "https://static.wikia.nocookie.net/the-microsoft-windows-xp/images/a/a4/Error_Message.png/revision/latest?cb=20191026215215",
    "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4c037114-116c-4d39-938c-5360d1bf68a2/dgpdko0-01f13dae-cb2d-4358-9ce9-fd311fb79943.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiIvZi80YzAzNzExNC0xMTZjLTRkMzktOTM4Yy01MzYwZDFiZjY4YTIvZGdwZGtvMC0wMWYxM2RhZS1jYjJkLTQzNTgtOWNlOS1mZDMxMWZiNzk5NDMucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.Zfp1DsP__6Xt0VSr9RXdk-48rI1lRx1FHhBrnkgQzbU",
    "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4c037114-116c-4d39-938c-5360d1bf68a2/dgrsag6-e4d7bc42-7438-4d16-84fa-25123cf24b54.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiIvZi80YzAzNzExNC0xMTZjLTRkMzktOTM4Yy01MzYwZDFiZjY4YTIvZGdyc2FnNi1lNGQ3YmM0Mi03NDM4LTRkMTYtODRmYS0yNTEyM2NmMjRiNTQucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.Y0IsVFBGQyJM4rwbWhkp_Mdgl8jWO36oFW0WC619gWo",
    "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4c037114-116c-4d39-938c-5360d1bf68a2/dgpdjx5-0b1dfc52-ae99-44ec-8a3f-58122560a57f.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiIvZi80YzAzNzExNC0xMTZjLTRkMzktOTM4Yy01MzYwZDFiZjY4YTIvZGdwZGp4NS0wYjFkZmM1Mi1hZTk5LTQ0ZWMtOGEzZi01ODEyMjU2MGE1N2YucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.KIGduFa9lK3oMPzcR9aTFR22XhpulvJ4o1lMNWbSq1I",
    "https://www.bleepstatic.com/swr-guides/w/windows-xp-recovery/hard-drive-failure-alert.jpg"
  ];
  var imageIndex = 0;

  function getImageSize(src, callback) {
    var img = new Image();
    img.onload = function() { callback(img.width, img.height); };
    img.src = src;
  }

  function createErrorIcon(x, y) {
    var rect = container.getBoundingClientRect();
    var img = document.createElement("img");
    var imageSrc = imagesList[imageIndex];
    getImageSize(imageSrc, function(originalWidth, originalHeight) {
      var maxSize = 200;
      var newWidth = originalWidth;
      var newHeight = originalHeight;
      if (newWidth > maxSize || newHeight > maxSize) {
        if (newWidth > newHeight) {
          newWidth = maxSize;
          newHeight = (originalHeight * maxSize) / originalWidth;
        } else {
          newHeight = maxSize;
          newWidth = (originalWidth * maxSize) / originalHeight;
        }
      }
      img.src = imageSrc;
      img.className = "click-image";
      var offsetX = newWidth / 2;
      var offsetY = newHeight / 2;
      img.style.left = (x - rect.left - offsetX) + "px";
      img.style.top = (y - rect.top - offsetY) + "px";
      img.style.width = newWidth + "px";
      img.style.height = newHeight + "px";
      img.draggable = false;
      if (imagesContainer.childNodes.length >= MAX_ICONS) imagesContainer.removeChild(imagesContainer.firstChild);
      imagesContainer.appendChild(img);
    });
    imageIndex = (imageIndex + 1) % imagesList.length;
  }

  function isClickInsideBackground(x, y) {
    var rect = container.getBoundingClientRect();
    var imageAspectRatio = 1920 / 1080;
    var containerAspectRatio = rect.width / rect.height;
    var bgWidth, bgHeight;
    if (containerAspectRatio > imageAspectRatio) {
      bgWidth = rect.width;
      bgHeight = rect.width / imageAspectRatio;
    } else {
      bgHeight = rect.height;
      bgWidth = rect.height * imageAspectRatio;
    }
    var bgLeft = rect.left + (rect.width - bgWidth) / 2;
    var bgTop = rect.top + (rect.height - bgHeight) / 2;
    var bgRight = bgLeft + bgWidth;
    var bgBottom = bgTop + bgHeight;
    return x >= bgLeft && x <= bgRight && y >= bgTop && y <= bgBottom;
  }

  container.onclick = function(e) {
    if (isClickInsideBackground(e.clientX, e.clientY)) createErrorIcon(e.clientX, e.clientY);
  };
  container.onmousedown = function(e) {
    isMouseDown = true;
    if (isClickInsideBackground(e.clientX, e.clientY)) createErrorIcon(e.clientX, e.clientY);
    return false;
  };
  document.onmouseup = function() { isMouseDown = false; };
  container.onmousemove = function(e) {
    if (isMouseDown && isClickInsideBackground(e.clientX, e.clientY)) createErrorIcon(e.clientX, e.clientY);
  };
  container.ontouchstart = function(e) {
    isMouseDown = true;
    var t = e.touches[0];
    if (isClickInsideBackground(t.clientX, t.clientY)) createErrorIcon(t.clientX, t.clientY);
    return false;
  };
  container.ontouchmove = function(e) {
    if (isMouseDown) {
      var t = e.touches[0];
      if (isClickInsideBackground(t.clientX, t.clientY)) createErrorIcon(t.clientX, t.clientY);
    }
    return false;
  };
  container.ontouchend = function() { isMouseDown = false; };
</script>

</body>
</html>
